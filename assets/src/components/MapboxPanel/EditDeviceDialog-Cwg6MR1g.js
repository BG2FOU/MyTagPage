import{y as U,r as m,w as K,u as z,i as u,a as x,o as s,j as a,d as p,z as k,e as d,k as i,p as f,P as F,A as I,t as g,l as V,B as _}from"../../../vendor-UN2rW63P.js";import{C as O}from"./ColorPicker-BQd5-EmB.js";import{u as A}from"./stores/deviceStore-C0BIN_ip.js";import{_ as T}from"../../../plugin-vue_export-helper-DlAUqK2U.js";const q={key:0,class:"flex-column"},G={class:"justify-center"},H={class:"Emoji-2x"},J={class:"Edit-info-div"},Q={class:"Edit-info-div-inner"},R={class:"info-item flex-prop"},W={key:0,class:"single-line-text"},X={class:"info-item flex-prop"},Y={key:0,class:"single-line-text"},Z={class:"info-item flex-prop"},h={key:0,class:"single-line-text"},ee={class:"info-item flex-prop"},te={key:0,class:"single-line-text"},oe={__name:"EditDeviceDialog",props:U({dialogEditVisible:Boolean,selectedDevice:Object,iconBgColor:Function,onSelectEmoji:Function},{modelValue:{prop:"modelValue",event:"update:modelValue"},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const y=A(),r=m(""),v=m(""),n=t;K(()=>n.selectedDevice,o=>{o&&o.prop&&(r.value=o.prop.name||"",v.value=o.prop.commit||"")},{immediate:!0,deep:!0});const E=z(t,"modelValue"),c={Name:m(!1),commit:m(!1),Location:m(!1),Lastupdate:m(!1)},N=o=>{Object.keys(c).forEach(e=>{e!==o&&(c[e].value=!1)}),c[o].value=!c[o].value},D=o=>{!n.selectedDevice||!n.selectedDevice.prop||(o==="Name"?(n.selectedDevice.prop.name=r.value,y.propsMap[n.selectedDevice.prop.id].name=r.value):o==="commit"&&(n.selectedDevice.prop.commit=v.value,y.propsMap[n.selectedDevice.prop.id].commit=v.value),c[o].value=!1)},{Name:b,commit:j,Location:w,Lastupdate:L}=c;return(o,e)=>{const S=u("el-button"),$=u("el-popover"),C=u("el-col"),B=u("el-input"),M=u("el-row"),P=u("el-dialog");return s(),x(P,{modelValue:E.value,"onUpdate:modelValue":e[9]||(e[9]=l=>E.value=l),title:"编辑物品",draggable:"",width:"50%",class:"responsive-dialog"},{default:a(()=>[t.selectedDevice?(s(),p("div",q,[d(M,{gutter:10},{default:a(()=>[d(C,{xs:24,sm:24,md:6,lg:4},{default:a(()=>[i("div",G,[d($,{placement:"top",title:"Icon Picker",width:300,trigger:"click"},{reference:a(()=>[d(S,{class:"icon-div-2x",style:I(t.iconBgColor(t.selectedDevice.prop.bgColor))},{default:a(()=>[i("div",H,g(t.selectedDevice.prop.emoji),1)]),_:1},8,["style"])]),default:a(()=>[d(f(F),{native:!0,onSelect:e[0]||(e[0]=l=>t.onSelectEmoji(l,t.selectedDevice.id))})]),_:1})])]),_:1}),d(C,{xs:24,sm:24,md:18,lg:20},{default:a(()=>[i("div",J,[i("div",Q,[i("div",R,[e[10]||(e[10]=V(" 物品名称: ")),f(b)?(s(),x(B,{key:1,modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=l=>r.value=l),onBlur:e[2]||(e[2]=l=>D("Name")),onKeyup:e[3]||(e[3]=_(l=>D("Name"),["enter"])),autofocus:""},null,8,["modelValue"])):(s(),p("span",W,g(t.selectedDevice.prop.name),1)),i("i",{onClick:e[4]||(e[4]=l=>N("Name")),class:"fas fa-edit edit-icon"})]),i("div",X,[e[11]||(e[11]=V(" 备注: ")),f(j)?(s(),x(B,{key:1,modelValue:v.value,"onUpdate:modelValue":e[5]||(e[5]=l=>v.value=l),onBlur:e[6]||(e[6]=l=>D("commit")),onKeyup:e[7]||(e[7]=_(l=>D("commit"),["enter"])),autofocus:""},null,8,["modelValue"])):(s(),p("span",Y,g(t.selectedDevice.prop.commit),1)),i("i",{onClick:e[8]||(e[8]=l=>N("commit")),class:"fas fa-edit edit-icon"})]),i("div",Z,[e[12]||(e[12]=V(" 位置: ")),f(w)?k("",!0):(s(),p("span",h,g(t.selectedDevice.prop.Location),1))]),i("div",ee,[e[13]||(e[13]=V(" 上次更新: ")),f(L)?k("",!0):(s(),p("span",te,g(t.selectedDevice.prop.Lastupdate),1))])])])]),_:1})]),_:1}),d(O,{selectedDevice:t.selectedDevice},null,8,["selectedDevice"])])):k("",!0)]),_:1},8,["modelValue"])}}},ae=T(oe,[["__scopeId","data-v-7d9f6421"]]);export{ae as E};
