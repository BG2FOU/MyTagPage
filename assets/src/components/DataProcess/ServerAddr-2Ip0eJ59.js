import{s as k}from"../stores/serverStore-BTgB0R_e.js";import{_ as C}from"../../../plugin-vue_export-helper-DlAUqK2U.js";import{r as i,g as E,w as W,b as I,h as y,i as d,a as z,o as M,j as t,e as u,k as m,l as v,E as p,m as N}from"../../../vendor-UN2rW63P.js";const T={class:"dialog-footer"},U={__name:"ServerAddr",props:{isVisible:Boolean},emits:["close"],setup(f,{emit:w}){const _=k(),g=f,V=w,a=i(!1),s=i(""),n=i(window.innerWidth),b=E(()=>n.value<=768?"90%":"30%"),h=()=>{n.value=window.innerWidth};W(()=>g.isVisible,o=>{a.value=o});const B=o=>{s.value?N.confirm("确定关闭吗？未保存的地址将丢失","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{l(),o()}).catch(()=>{}):(l(),o())};I(()=>{const o=localStorage.getItem("serverAddress");o&&(s.value=o),window.addEventListener("resize",()=>n.value=window.innerWidth)}),y(()=>window.removeEventListener("resize",h));const x=()=>{s.value?(_.serverAddress=s.value,localStorage.setItem("serverAddress",s.value),p.success("服务器地址已保存！"),l()):p.warning("地址不能为空！")},l=()=>{a.value=!1,V("close")};return(o,e)=>{const A=d("el-input"),c=d("el-button"),S=d("el-dialog");return M(),z(S,{modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=r=>a.value=r),width:b.value,"before-close":B},{header:t(()=>e[2]||(e[2]=[m("span",null,"设置服务器地址",-1)])),footer:t(()=>[m("span",T,[u(c,{onClick:l},{default:t(()=>e[3]||(e[3]=[v("取消")])),_:1,__:[3]}),u(c,{type:"primary",onClick:x},{default:t(()=>e[4]||(e[4]=[v("保存")])),_:1,__:[4]})])]),default:t(()=>[u(A,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=r=>s.value=r),placeholder:"例如：http://192.168.1.100:8080",clearable:""},null,8,["modelValue"])]),_:1},8,["modelValue","width"])}}},R=C(U,[["__scopeId","data-v-19b4a1c0"]]);export{R as S};
